<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶°‡ßá‡¶ü‡¶æ ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶° (Modern Theme)</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali:wght@400;600;700;800;900&display=swap" rel="stylesheet">
    
    <style>
        /* ‡¶®‡¶§‡ßÅ‡¶® ‡¶ï‡¶æ‡¶≤‡¶æ‡¶∞ ‡¶≠‡ßá‡¶∞‡¶ø‡¶Ø‡¶º‡ßá‡¶¨‡¶≤ (Modern Theme) */
        :root {
            /* ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£ ‡¶π‡¶æ‡¶á‡¶≤‡¶æ‡¶á‡¶ü ‡¶ï‡¶æ‡¶≤‡¶æ‡¶∞ */
            --highlight-color-1: #1abc9c; /* ‡¶´‡¶ø‡¶∞‡ßã‡¶ú‡¶æ (Turquoise) - Primary */
            --highlight-color-2: #3498db; /* ‡¶®‡ßÄ‡¶≤ (Blue) - Secondary */
            --sidebar-bg-color: #34495e; /* ‡¶ó‡¶æ‡¶¢‡¶º ‡¶õ‡¶æ‡¶á ‡¶∞‡¶ô - Base */
            
            /* ‡¶´‡¶∞‡ßç‡¶Æ ‡¶ì ‡¶¨‡¶æ‡¶ü‡¶®‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶®‡¶§‡ßÅ‡¶® ‡¶ï‡¶æ‡¶≤‡¶æ‡¶∞ */
            --input-bg: #ecf0f1; /* ‡¶á‡¶®‡¶™‡ßÅ‡¶ü‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶π‡¶æ‡¶≤‡¶ï‡¶æ ‡¶ß‡ßÇ‡¶∏‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶ó‡ßç‡¶∞‡¶æ‡¶â‡¶®‡ßç‡¶° */
            --input-border: #bdc3c7; /* ‡¶π‡¶æ‡¶≤‡¶ï‡¶æ ‡¶ß‡ßÇ‡¶∏‡¶∞ ‡¶¨‡¶∞‡ßç‡¶°‡¶æ‡¶∞ */
            --button-submit: #1abc9c; /* ‡¶â‡¶ú‡ßç‡¶ú‡ßç‡¶¨‡¶≤ ‡¶´‡¶ø‡¶∞‡ßã‡¶ú‡¶æ */
            --button-submit-dark: #16a085; /* ‡¶ó‡¶æ‡¶¢‡¶º ‡¶´‡¶ø‡¶∞‡ßã‡¶ú‡¶æ */
            
            /* ‡¶ü‡ßã‡¶ü‡¶æ‡¶≤ ‡¶°‡¶ø‡¶∏‡¶™‡ßç‡¶≤‡ßá ‡¶ï‡¶æ‡¶≤‡¶æ‡¶∞ */
            --total-display-bg: #e8f8f5; 
            --total-display-color: #16a085;
            
            /* ‡¶õ‡ßã‡¶ü ‡¶¨‡¶æ‡¶ü‡¶® ‡¶ï‡¶æ‡¶≤‡¶æ‡¶∞ */
            --btn-primary: #3498db;
            --btn-success: #2ecc71;
            --btn-cancel: #e74c3c;
            
            /* ‡¶ü‡ßá‡¶¨‡¶ø‡¶≤‡ßá‡¶∞ ‡¶∞‡¶ô ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® */
            --table-header-bg: #009688; /* ‡¶®‡¶§‡ßÅ‡¶® ‡¶π‡ßá‡¶°‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶≤‡¶æ‡¶∞: ‡¶®‡ßÄ‡¶≤-‡¶∏‡¶¨‡ßÅ‡¶ú (Teal) */
            --table-total-color: #007bff;
        }

        /* ‡¶´‡¶®‡ßç‡¶ü ‡¶è‡¶¨‡¶Ç ‡¶¨‡ßá‡¶∏‡¶ø‡¶ï ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Noto Sans Bengali', sans-serif;
            background-color: #f4f7f9;
            color: #333;
            line-height: 1.6;
        }

        /* ‡¶™‡ßç‡¶∞‡¶ß‡¶æ‡¶® ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶á‡¶®‡¶æ‡¶∞ */
        .dashboard-container {
            display: flex;
            min-height: 100vh;
        }

        /* ‡¶∏‡¶æ‡¶á‡¶°‡¶¨‡¶æ‡¶∞ ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
        .sidebar {
            width: 250px;
            background-color: var(--sidebar-bg-color); /* ‡¶ó‡¶æ‡¶¢‡¶º ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶ó‡ßç‡¶∞‡¶æ‡¶â‡¶®‡ßç‡¶° */
            color: #ecf0f1;
            padding: 20px;
            display: flex;
            flex-direction: column;
            box-shadow: 2px 0 15px rgba(0, 0, 0, 0.2);
        }

        .logo h2 {
            text-align: center;
            margin-bottom: 40px;
            color: var(--highlight-color-1); /* ‡¶´‡¶ø‡¶∞‡ßã‡¶ú‡¶æ ‡¶≤‡ßã‡¶ó‡ßã ‡¶ï‡¶æ‡¶≤‡¶æ‡¶∞ */
        }

        .nav-links ul {
            list-style: none;
        }

        .nav-links li {
            margin-bottom: 10px;
        }

        /* --- ‡¶∏‡¶Ç‡¶∂‡ßã‡¶ß‡¶ø‡¶§ ‡¶Ö‡¶Ç‡¶∂: ‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶® ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ (‡¶Ü‡¶á‡¶ï‡¶® ‡¶è‡¶¨‡¶Ç ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶®‡¶§‡ßÅ‡¶® ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤) --- */
        .nav-links a {
            /* ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶â‡¶ú‡ßç‡¶ú‡ßç‡¶¨‡¶≤ ‡¶∏‡¶æ‡¶¶‡¶æ ‡¶ï‡¶æ‡¶≤‡¶æ‡¶∞ */
            color: #ffffff; 
            text-decoration: none;
            padding: 12px 15px;
            
            display: flex;
            align-items: center;
            gap: 12px; 
            white-space: nowrap; 
            
            border-radius: 8px;
            transition: background-color 0.3s, color 0.3s;
            font-weight: 600; 
        }

        /* --- ‡¶∏‡¶Ç‡¶∂‡ßã‡¶ß‡¶ø‡¶§: ‡¶Ü‡¶á‡¶ï‡¶®‡¶ó‡ßÅ‡¶≤‡¶ø‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶®‡¶§‡ßÅ‡¶® ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ (Base64 SVG ‡¶ß‡¶æ‡¶∞‡¶ï) --- */
        .nav-links .nav-icon {
            /* Base64 SVG ‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ú‡¶æ‡ßü‡¶ó‡¶æ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ */
            display: inline-block;
            width: 20px; 
            height: 20px; 
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            line-height: 1;
            color: transparent !important; /* ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶π‡¶æ‡¶á‡¶° ‡¶ï‡¶∞‡¶æ */
            
            /* ‡¶â‡¶ú‡ßç‡¶ú‡ßç‡¶¨‡¶≤ ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶†‡¶ø‡¶ï ‡¶∞‡ßá‡¶ñ‡ßá, ‡¶Ü‡¶á‡¶ï‡¶®‡¶ó‡ßÅ‡¶≤‡¶ø‡¶ï‡ßá Base64 ‡¶¶‡ßç‡¶¨‡¶æ‡¶∞‡¶æ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ ‡¶π‡¶¨‡ßá */
        }

        /* Base64 ‡¶°‡ßá‡¶ü‡¶æ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ü‡¶≤‡¶æ‡¶¶‡¶æ ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ (‡¶∏‡ßç‡¶¨‡¶ö‡ßç‡¶õ‡¶§‡¶æ ‡¶¨‡¶ú‡¶æ‡¶Ø‡¶º ‡¶∞‡ßá‡¶ñ‡ßá) */
        /* 1. ‡¶≤‡¶æ‡¶á‡¶≠ ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶°‡ßá‡¶ü‡¶æ (‡¶†‡¶ø‡¶ï ‡¶•‡¶æ‡¶ï‡¶¨‡ßá) */
        .nav-links li:nth-child(1) .nav-icon {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><rect x="3" y="10" width="4" height="11" fill="%231ABC9C"/><rect x="10" y="3" width="4" height="18" fill="%233498DB"/><rect x="17" y="6" width="4" height="15" fill="%232ECC71"/></svg>');
        }
        /* 2. ‡¶®‡¶§‡ßÅ‡¶® ‡¶è‡¶®‡ßç‡¶ü‡ßç‡¶∞‡¶ø (üìÑ‚ûï ‡¶°‡¶ï‡ßÅ‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡¶π ‡¶™‡ßç‡¶≤‡¶æ‡¶∏ - ‡¶∏‡¶¨‡ßÅ‡¶ú) */
        .nav-links li:nth-child(2) .nav-icon {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="%232ECC71" d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm-1 7V3.5L18.5 9H13zm-2 7H8v-2h3v-3h2v3h3v2h-3v3h-2v-3z" /></svg>');
        }
        /* 3. ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶™‡ßã‡¶∏‡ßç‡¶ü (üßë ‡¶≠‡¶∞‡¶æ‡¶ü ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤/‡¶Æ‡¶æ‡¶•‡¶æ - ‡¶®‡ßÄ‡¶≤/‡¶π‡¶≤‡ßÅ‡¶¶) */
        .nav-links li:nth-child(3) .nav-icon {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="12" cy="7" r="3" fill="%23F39C12"/><path fill="%233498DB" d="M12 14c-4.42 0-8 1.79-8 4v2h16v-2c0-2.21-3.58-4-8-4z"/></svg>');
        }
        /* 4. ‡¶°‡ßá‡¶ü‡¶æ ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ (üîç ‡¶®‡¶§‡ßÅ‡¶® ‡¶Ü‡¶á‡¶ï‡¶®) */
        .nav-links li:nth-child(4) .nav-icon {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="%23F39C12" d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"/></svg>');
        }
        /* 5. ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ (‡¶†‡¶ø‡¶ï ‡¶•‡¶æ‡¶ï‡¶¨‡ßá) */
        .nav-links li:nth-child(5) .nav-icon {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="%23F39C12" d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99l-2.75-2.75-1.42 1.41 4.17 4.17 7.08-7.07-1.41-1.41-5.67 5.67z" opacity="0.8"/><path fill="%2334495E" d="M12 21.99c-4.22-1.18-7.5-5.18-7.5-9.99v-5.46L12 3.19l7.5 3.35v5.45c0 4.81-3.28 8.81-7.5 9.99z" opacity="0.3"/></svg>');
        }
        /* 6. ‡¶≤‡¶ó ‡¶Ü‡¶â‡¶ü (üö™‚û°Ô∏è ‡¶¶‡¶∞‡¶ú‡¶æ ‡¶•‡ßá‡¶ï‡ßá ‡¶¨‡ßá‡¶∞ ‡¶π‡¶ì‡ßü‡¶æ ‡¶§‡ßÄ‡¶∞ - ‡¶≤‡¶æ‡¶≤) */
        .nav-links li:nth-child(6) .nav-icon {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="%23E74C3C" d="M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"/></svg>');
        }
        
        /* ‡¶π‡ßã‡¶≠‡¶æ‡¶∞ ‡¶è‡¶¨‡¶Ç ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶ü‡¶ø‡¶≠ ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶Ø‡¶º ‡¶ï‡¶æ‡¶≤‡¶æ‡¶∞ */
        .nav-links a:hover,
        .nav-links li.active a {
            /* ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶ü‡¶ø‡¶≠ ‡¶π‡¶≤‡ßá ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶ó‡¶æ‡¶¢‡¶º ‡¶õ‡¶æ‡¶á ‡¶∞‡¶ô ‡¶π‡¶¨‡ßá */
            background-color: var(--highlight-color-1); /* ‡¶´‡¶ø‡¶∞‡ßã‡¶ú‡¶æ ‡¶π‡¶æ‡¶á‡¶≤‡¶æ‡¶á‡¶ü */
            color: var(--sidebar-bg-color); /* ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶ó‡¶æ‡¶¢‡¶º ‡¶π‡¶¨‡ßá */
            font-weight: 800; 
        }

        /* ‡¶π‡ßã‡¶≠‡¶æ‡¶∞ ‡¶è‡¶¨‡¶Ç ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶ü‡¶ø‡¶≠ ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶Ø‡¶º ‡¶Ü‡¶á‡¶ï‡¶® ‡¶ï‡¶æ‡¶≤‡¶æ‡¶∞ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® */
        .nav-links a:hover .nav-icon,
        .nav-links li.active a .nav-icon {
            /* ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ü‡¶∞ color ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶π‡¶¨‡ßá ‡¶®‡¶æ, ‡¶ï‡¶æ‡¶∞‡¶£ ‡¶Ü‡¶Æ‡¶∞‡¶æ Base64 ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶õ‡¶ø */
            color: transparent !important; 
        }
        
        .user-info {
            margin-top: auto;
            padding: 18px 12px;
            border-top: 2px solid rgba(26, 188, 156, 0.3); 
            background: rgba(0, 0, 0, 0.1); 
            border-radius: 8px;
            font-size: 0.9em;
        }

        .user-info strong {
            color: var(--highlight-color-2); 
            font-size: 1.05em;
        }

        .user-measurement {
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .measurement-label {
            font-size: 0.8em;
            color: var(--highlight-color-1); 
            font-weight: 700;
            margin-bottom: 6px;
        }

        .measurement-bar {
            width: 100%;
            height: 8px;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 4px;
            overflow: hidden;
        }

        .measurement-fill {
            height: 100%;
            background: var(--highlight-color-1); 
            border-radius: 4px;
            transition: width 0.4s ease;
        }

        .measurement-value {
            font-size: 0.85em;
            color: #ecf0f1;
            font-weight: 600;
            text-align: right;
        }

        /* ‡¶Æ‡ßá‡¶á‡¶® ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
        .main-content {
            flex-grow: 1;
            padding: 30px;
        }

        /* ‡¶π‡ßá‡¶°‡¶æ‡¶∞ ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 1px solid #ddd;
        }

        h3 {
            margin-bottom: 20px;
            color: var(--sidebar-bg-color);
            border-left: 5px solid var(--highlight-color-1); 
            padding-left: 10px;
        }

        /* ‡¶´‡¶∞‡ßç‡¶Æ ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
        .entry-form {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            max-width: 720px;
            margin: 18px auto 8px auto;
            padding: 25px;
            background: #ffffff;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border: 1px solid #e0e0e0;
        }

        .form-group label {
            font-weight: 700;
            margin-bottom: 8px;
            color: var(--sidebar-bg-color); 
            display: block;
        }

        /* ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶´‡¶ø‡¶≤‡ßç‡¶° ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
        .entry-form input[type="text"],
        .entry-form input[type="number"],
        .entry-form input[type="file"],
        /* ‡¶®‡¶§‡ßÅ‡¶® ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
        .filter-group input[type="text"],
        .filter-group input[type="date"],
        .filter-group select {
            width: 100%;
            padding: 10px 12px; /* ‡¶™‡ßç‡¶Ø‡¶æ‡¶°‡¶ø‡¶Ç ‡¶ï‡¶Æ‡¶æ‡¶®‡ßã ‡¶π‡¶≤‡ßã */
            border: 1px solid var(--input-border); 
            border-radius: 6px; 
            background: var(--input-bg); 
            transition: all 0.3s ease;
            font-size: 0.95em; /* ‡¶´‡¶®‡ßç‡¶ü ‡¶∏‡¶æ‡¶á‡¶ú ‡¶ï‡¶Æ‡¶æ‡¶®‡ßã ‡¶π‡¶≤‡ßã */
            height: 40px; /* ‡¶â‡¶ö‡ßç‡¶ö‡¶§‡¶æ ‡¶´‡¶ø‡¶ï‡ßç‡¶∏‡¶° ‡¶ï‡¶∞‡¶æ ‡¶π‡¶≤‡ßã */
            color: #2c3e50;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.03);
            font-family: 'Noto Sans Bengali', sans-serif;
            -webkit-appearance: none;
            appearance: none;
        }

        .entry-form input[type="text"]:focus,
        .entry-form input[type="number"]:focus,
        .entry-form input[type="file"]:focus,
        .filter-group input:focus,
        .filter-group select:focus {
            outline: none;
            border-color: var(--highlight-color-1); 
            background: #ffffff;
            box-shadow: 0 0 0 4px rgba(26, 188, 156, 0.2); 
        }


        .total-display {
            grid-column: 1 / -1; 
            padding: 16px 20px;
            background: var(--total-display-bg); 
            border: 1px solid var(--total-display-color);
            border-radius: 8px;
            font-size: 1.2em;
            text-align: center;
            color: var(--total-display-color); 
            font-weight: 800;
        }

        /* SUBMIT BUTTON STYLE */
        .submit-btn, .filter-btn {
            grid-column: 1 / -1;
            background: linear-gradient(135deg, var(--button-submit), var(--button-submit-dark)); 
            color: #fff;
            padding: 15px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: 800;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 8px 15px rgba(26, 188, 156, 0.3);
        }

        .submit-btn:hover, .filter-btn:hover { 
            transform: translateY(-3px); 
            box-shadow: 0 12px 25px rgba(26, 188, 156, 0.4); 
            opacity: 0.95;
        }
        
        /* ‡¶õ‡ßã‡¶ü ‡¶¨‡¶æ‡¶ü‡¶®‡¶ó‡ßÅ‡¶≤‡¶ø‡¶∞ ‡¶°‡¶ø‡¶ú‡¶æ‡¶á‡¶® */
        .btn-small {
            color: white;
            border: none;
            padding: 8px 12px; /* ‡¶™‡ßç‡¶Ø‡¶æ‡¶°‡¶ø‡¶Ç ‡¶ï‡¶Æ‡¶æ‡¶®‡ßã ‡¶π‡¶≤‡ßã */
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9em; /* ‡¶´‡¶®‡ßç‡¶ü ‡¶∏‡¶æ‡¶á‡¶ú ‡¶ï‡¶Æ‡¶æ‡¶®‡ßã ‡¶π‡¶≤‡ßã */
            font-weight: 600;
            transition: all 0.3s ease;
            min-height: 40px; /* ‡¶â‡¶ö‡ßç‡¶ö‡¶§‡¶æ ‡¶ï‡¶Æ‡¶æ‡¶®‡ßã ‡¶π‡¶≤‡ßã */
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .btn-small:hover {
            opacity: 0.95;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
        }

        /* ‡¶®‡¶§‡ßÅ‡¶® ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶¨‡¶æ‡¶ü‡¶® (Primary) - ‡¶®‡ßÄ‡¶≤ */
        .btn-primary {
            background: linear-gradient(135deg, var(--btn-primary), #2980b9);
            box-shadow: 0 4px 10px rgba(52, 152, 219, 0.2);
        }

        /* ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶¨‡¶æ‡¶ü‡¶® (Success) - ‡¶∏‡¶¨‡ßÅ‡¶ú */
        .btn-success {
            background: linear-gradient(135deg, var(--btn-success), #27ae60);
            box-shadow: 0 4px 10px rgba(46, 204, 113, 0.2);
        }

        /* ‡¶¨‡¶æ‡¶§‡¶ø‡¶≤/‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶¨‡¶æ‡¶ü‡¶® (Cancel) - ‡¶≤‡¶æ‡¶≤ */
        .btn-cancel {
            background: linear-gradient(135deg, var(--btn-cancel), #c0392b);
            box-shadow: 0 4px 10px rgba(231, 76, 60, 0.2);
        }
        
        /* ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ì ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶° ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
        .user-select-styled {
            background: white;
            color: #2c3e50;
            border: 2px solid var(--highlight-color-2); 
            border-radius: 8px;
            padding: 8px 10px; /* ‡¶™‡ßç‡¶Ø‡¶æ‡¶°‡¶ø‡¶Ç ‡¶ï‡¶Æ‡¶æ‡¶®‡ßã ‡¶π‡¶≤‡ßã */
            font-weight: 600;
            transition: all 0.3s ease;
            -webkit-appearance: none;
            appearance: none;
            background-image: url('data:image/svg+xml;utf8,<svg fill="%232980b9" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/></svg>'); 
            background-repeat: no-repeat;
            background-position: right 8px center;
            background-size: 20px;
            min-height: 40px; /* ‡¶â‡¶ö‡ßç‡¶ö‡¶§‡¶æ ‡¶ï‡¶Æ‡¶æ‡¶®‡ßã ‡¶π‡¶≤‡ßã */
            font-size: 0.9em; /* ‡¶´‡¶®‡ßç‡¶ü ‡¶∏‡¶æ‡¶á‡¶ú ‡¶ï‡¶Æ‡¶æ‡¶®‡ßã ‡¶π‡¶≤‡ßã */
            width: 100%;
        }

        .user-select-styled:hover {
            border-color: var(--highlight-color-1);
        }

        .user-add-input {
            width: 100%;
            padding: 10px 12px;
            border: 2px solid var(--highlight-color-2); 
            border-radius: 8px;
            font-size: 0.9em;
            font-family: inherit;
            color: #2c3e50;
            transition: all 0.3s ease;
            background: white;
            min-height: 40px;
        }

        .user-add-input:focus {
            outline: none;
            border-color: var(--highlight-color-1);
            box-shadow: 0 0 8px rgba(26, 188, 156, 0.3);
            background: #fff;
        }
        
        /* --- ‡¶∏‡¶Ç‡¶∂‡ßã‡¶ß‡¶ø‡¶§ ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶Ö‡¶™‡¶∂‡¶® ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ --- */
        .filter-options {
            display: flex; /* Flexbox ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá */
            gap: 15px; /* ‡¶ó‡ßç‡¶Ø‡¶æ‡¶™ ‡¶ï‡¶Æ‡¶æ‡¶®‡ßã ‡¶π‡ßü‡ßá‡¶õ‡ßá */
            align-items: flex-end; /* ‡¶â‡¶™‡¶æ‡¶¶‡¶æ‡¶®‡¶ó‡ßÅ‡¶≤‡ßã‡¶ï‡ßá ‡¶®‡¶ø‡¶ö‡ßá ‡¶∏‡¶æ‡¶∞‡¶ø‡¶¨‡¶¶‡ßç‡¶ß ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá */
            padding: 20px; /* ‡¶™‡ßç‡¶Ø‡¶æ‡¶°‡¶ø‡¶Ç ‡¶ï‡¶Æ‡¶æ‡¶®‡ßã ‡¶π‡ßü‡ßá‡¶õ‡ßá */
            background: #ffffff;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
            margin-bottom: 25px;
            border: 1px solid #e0e0e0;
            flex-wrap: wrap; /* ‡¶õ‡ßã‡¶ü ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶®‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø wrap ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá */
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 6px; /* ‡¶ó‡ßç‡¶Ø‡¶æ‡¶™ ‡¶ï‡¶Æ‡¶æ‡¶®‡ßã ‡¶π‡ßü‡ßá‡¶õ‡ßá */
            flex-grow: 1; /* ‡¶´‡ßç‡¶≤‡ßá‡¶ï‡ßç‡¶∏ ‡¶ó‡ßç‡¶∞‡ßã ‡¶¶‡¶ø‡ßü‡ßá ‡¶ú‡¶æ‡ßü‡¶ó‡¶æ ‡¶®‡ßá‡¶ì‡ßü‡¶æ ‡¶π‡¶¨‡ßá */
            min-width: 120px; /* ‡¶®‡ßç‡¶Ø‡ßÇ‡¶®‡¶§‡¶Æ ‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶• ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá */
        }
        
        /* ‡¶°‡ßá‡¶ü ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶´‡ßç‡¶≤‡ßá‡¶ï‡ßç‡¶∏‡¶¨‡¶ï‡ßç‡¶∏ ‡¶≤‡ßá‡¶Ü‡¶â‡¶ü ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá ‡¶™‡¶æ‡¶∂‡¶æ‡¶™‡¶æ‡¶∂‡¶ø ‡¶∞‡¶æ‡¶ñ‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá */
        .date-range-container {
            display: flex;
            gap: 15px;
            flex-grow: 2; /* ‡¶°‡ßá‡¶ü ‡¶∏‡ßá‡¶ï‡¶∂‡¶®‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶¨‡ßá‡¶∂‡¶ø ‡¶ú‡¶æ‡ßü‡¶ó‡¶æ */
            min-width: 250px;
        }
        
        .filter-group label {
            font-weight: 700;
            color: var(--sidebar-bg-color);
            font-size: 0.9em;
            margin-bottom: 0;
        }

        .filter-actions {
            display: flex;
            gap: 10px;
            min-width: 180px; /* ‡¶¨‡¶æ‡¶ü‡¶®‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶®‡ßç‡¶Ø‡ßÇ‡¶®‡¶§‡¶Æ ‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶• */
        }
        
        .filter-actions .btn-small {
            flex-grow: 1;
            padding: 10px;
            min-height: 40px;
        }
        
        .date-input {
            flex-grow: 1;
        }
        /* --- ‡¶∏‡¶Ç‡¶∂‡ßã‡¶ß‡¶ø‡¶§ ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶Ö‡¶™‡¶∂‡¶® ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ ‡¶∂‡ßá‡¶∑ --- */

        /* ‡¶ü‡ßá‡¶¨‡¶ø‡¶≤ ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
        .table-container {
            overflow-x: auto;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
        }

        #live-sales-table, #my-sales-table, #filter-results-table {
            width: 100%;
            border-collapse: collapse;
        }

        /* ‡¶ü‡ßá‡¶¨‡¶ø‡¶≤ ‡¶π‡ßá‡¶°‡¶æ‡¶∞: ‡¶¨‡ßã‡¶≤‡ßç‡¶° ‡¶è‡¶¨‡¶Ç ‡¶ï‡¶æ‡¶≤‡¶æ‡¶∞ ‡¶ö‡ßá‡¶û‡ßç‡¶ú */
        #live-sales-table thead th, #my-sales-table thead th, #filter-results-table thead th {
            /* ‡¶®‡¶§‡ßÅ‡¶® ‡¶π‡ßá‡¶°‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶ó‡ßç‡¶∞‡¶æ‡¶â‡¶®‡ßç‡¶°: ‡¶®‡ßÄ‡¶≤-‡¶∏‡¶¨‡ßÅ‡¶ú (Teal) */
            background: linear-gradient(135deg, #009688, #00796b); 
            color: white;
            font-weight: 700; 
            text-transform: uppercase;
            font-size: 0.85em; /* ‡¶´‡¶®‡ßç‡¶ü ‡¶∏‡¶æ‡¶á‡¶ú ‡¶ï‡¶Æ‡¶æ‡¶®‡ßã ‡¶π‡¶≤‡ßã */
            padding: 14px 12px; /* ‡¶™‡ßç‡¶Ø‡¶æ‡¶°‡¶ø‡¶Ç ‡¶ï‡¶Æ‡¶æ‡¶®‡ßã ‡¶π‡¶≤‡ßã */
        }
        
        /* ‡¶ü‡ßá‡¶¨‡¶ø‡¶≤ ‡¶¨‡¶°‡¶ø ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü: ‡¶¨‡ßã‡¶≤‡ßç‡¶° ‡¶ï‡¶∞‡¶æ ‡¶π‡¶≤‡ßã */
        #live-sales-table td, #my-sales-table td, #filter-results-table td {
            padding: 12px 12px; /* ‡¶™‡ßç‡¶Ø‡¶æ‡¶°‡¶ø‡¶Ç ‡¶ï‡¶Æ‡¶æ‡¶®‡ßã ‡¶π‡¶≤‡ßã */
            text-align: left;
            border-bottom: 1px solid #ecf0f1;
            color: #333333; 
            font-weight: 600; 
            font-size: 0.9em; /* ‡¶´‡¶®‡ßç‡¶ü ‡¶∏‡¶æ‡¶á‡¶ú ‡¶ï‡¶Æ‡¶æ‡¶®‡ßã ‡¶π‡¶≤‡ßã */
        }

        #my-sales-table tbody tr .delete-btn {
            padding: 6px 10px; /* ‡¶™‡ßç‡¶Ø‡¶æ‡¶°‡¶ø‡¶Ç ‡¶ï‡¶Æ‡¶æ‡¶®‡ßã ‡¶π‡¶≤‡ßã */
            font-size: 1em; 
            min-height: 36px;
            min-width: 36px;
            border-radius: 6px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        /* ‡¶≤‡¶æ‡¶á‡¶≠ ‡¶∏‡ßá‡¶≤‡ßá‡¶∞ ‡¶Æ‡ßã‡¶ü ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶ï‡¶≤‡¶æ‡¶Æ - ‡¶∏‡¶¨‡ßÅ‡¶ú */
        #live-sales-table td:nth-child(7), #filter-results-table td:nth-child(7) { 
            color: var(--btn-success) !important; 
        }

        /* ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶∏‡ßá‡¶≤‡ßá‡¶∞ ‡¶Æ‡ßã‡¶ü ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶ï‡¶≤‡¶æ‡¶Æ - ‡¶â‡¶ú‡ßç‡¶ú‡ßç‡¶¨‡¶≤ ‡¶®‡ßÄ‡¶≤ ‡¶ï‡¶æ‡¶≤‡¶æ‡¶∞ */
        #my-sales-table td:nth-child(7) { 
            color: var(--table-total-color) !important; 
            font-weight: 700;
        }

        #my-sales-table tbody tr:hover, #filter-results-table tbody tr:hover {
            background-color: #e8f8f5;
            box-shadow: inset 3px 0 0 var(--highlight-color-1); 
        }
        
        .product-img {
            width: 40px; /* ‡¶∏‡¶æ‡¶á‡¶ú ‡¶ï‡¶Æ‡¶æ‡¶®‡ßã ‡¶π‡¶≤‡ßã */
            height: 40px; /* ‡¶∏‡¶æ‡¶á‡¶ú ‡¶ï‡¶Æ‡¶æ‡¶®‡ßã ‡¶π‡¶≤‡ßã */
            object-fit: cover;
            border-radius: 6px; 
            display: inline-block;
            box-shadow: 0 2px 6px rgba(0,0,0,0.08);
        }

        .product-img.round {
            border-radius: 12px;
        }
        
        /* --- ‡¶≤‡¶æ‡¶á‡¶≠ ‡¶ü‡ßá‡¶¨‡¶ø‡¶≤‡ßá‡¶∞ ‡¶Æ‡ßã‡¶ü ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶°‡¶ø‡¶∏‡¶™‡ßç‡¶≤‡ßá (#sidebar-total) --- */
        .side-total {
            display: flex !important; 
            justify-content: space-between;
            align-items: center;
            background: #ffffff; 
            padding: 16px 25px;
            border-radius: 12px;
            margin-bottom: 25px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.08);
            border: 1px solid #e0e0e0;
            transition: all 0.3s ease;
        }

        .side-total:hover {
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        /* --- ‡¶Æ‡ßã‡¶ü ‡¶ü‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶´‡¶®‡ßç‡¶ü ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ (‡¶â‡¶≠‡ßü ‡¶°‡¶ø‡¶∏‡¶™‡ßç‡¶≤‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø) --- */
        .table-header-total-amount { 
            font-weight: 900; 
            font-size: 1.2em; /* ‡¶´‡¶®‡ßç‡¶ü ‡¶∏‡¶æ‡¶á‡¶ú ‡¶∏‡¶æ‡¶Æ‡¶æ‡¶®‡ßç‡¶Ø ‡¶ï‡¶Æ‡¶æ‡¶®‡ßã ‡¶π‡ßü‡ßá‡¶õ‡ßá */
            color: var(--highlight-color-1); 
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.05);
        }

        /* ‡¶≤‡ßá‡¶¨‡ßá‡¶≤‡ßá‡¶∞ ‡¶´‡¶®‡ßç‡¶ü ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ (‡¶â‡¶≠‡ßü ‡¶°‡¶ø‡¶∏‡¶™‡ßç‡¶≤‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø) */
        .table-header-total-label {
            font-weight: 700;
            font-size: 1em; /* ‡¶´‡¶®‡ßç‡¶ü ‡¶∏‡¶æ‡¶á‡¶ú ‡¶∏‡¶æ‡¶Æ‡¶æ‡¶®‡ßç‡¶Ø ‡¶ï‡¶Æ‡¶æ‡¶®‡ßã ‡¶π‡ßü‡ßá‡¶õ‡ßá */
            color: var(--sidebar-bg-color); 
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        /* --- ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶™‡ßã‡¶∏‡ßç‡¶ü‡ßá‡¶∞ ‡¶Æ‡ßã‡¶ü ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶°‡¶ø‡¶∏‡¶™‡ßç‡¶≤‡ßá (#my-table-header-total) ‡¶´‡¶®‡ßç‡¶ü ‡¶∏‡¶æ‡¶á‡¶ú ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® --- */
        #my-table-header-total, #filter-table-header-total {
            display: flex !important; 
            justify-content: space-between;
            align-items: center;
            background: #ffffff; 
            padding: 16px 25px;
            border-radius: 12px;
            margin-bottom: 25px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.08); 
            border: 1px solid #e0e0e0;
            transition: all 0.3s ease;
        }

        #my-table-header-total:hover, #filter-table-header-total:hover {
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }


        /* ‡¶ü‡ßã‡¶∏‡ßç‡¶ü ‡¶è‡¶¨‡¶Ç ‡¶Æ‡¶°‡¶æ‡¶≤ ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
        #toast-container {
            position: fixed;
            right: 20px;
            top: 20px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            z-index: 9999;
            pointer-events: none;
        }

        .toast {
            pointer-events: auto;
            min-width: 220px;
            padding: 12px 14px;
            border-radius: 10px;
            color: white;
            font-weight: 700;
            box-shadow: 0 8px 24px rgba(0,0,0,0.12);
            animation: toast-in 320ms ease forwards;
        }

        @keyframes toast-in {
            from { opacity: 0; transform: translateY(-8px) scale(0.98); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }

        .toast-success { background: linear-gradient(90deg,var(--btn-success),#27ae60); }
        .toast-error { background: linear-gradient(90deg,var(--btn-cancel),#c0392b); }
        .toast-info { background: linear-gradient(90deg,var(--btn-primary),#2980b9); }

        .toast .toast-close {
            float: right;
            margin-left: 8px;
            opacity: 0.9;
            cursor: pointer;
        }
        
        /* ‡¶Æ‡¶°‡¶æ‡¶≤ ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
        #modal-overlay {
            position: fixed;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0,0,0,0.45);
            z-index: 10050; 
            visibility: hidden;
            opacity: 0;
            transition: opacity 200ms ease, visibility 200ms ease;
        }

        #modal-overlay.active {
            visibility: visible;
            opacity: 1;
        }

        .modal-box {
            background: #ffffff;
            padding: 20px 18px;
            border-radius: 12px;
            box-shadow: 0 18px 60px rgba(12,20,40,0.25);
            max-width: 520px;
            width: calc(100% - 48px);
            text-align: center;
        }

        .modal-message {
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 18px;
            font-size: 1.05em;
        }

        .modal-actions {
            display: flex;
            gap: 12px;
            justify-content: center;
            align-items: center;
            margin-top: 6px;
        }

        .modal-btn {
            padding: 10px 16px;
            border-radius: 8px;
            min-width: 110px;
            font-weight: 800;
            cursor: pointer;
            border: none;
            font-size: 0.95em;
            color: white;
        }

        .modal-btn.ok {
            background: linear-gradient(90deg,var(--btn-success),#27ae60);
        }

        .modal-btn.cancel {
            background: linear-gradient(90deg,#95a5a6,#7f8c8d);
        }

        @media (max-width: 900px) {
            .filter-options {
                /* 900px ‡¶è‡¶∞ ‡¶®‡¶ø‡¶ö‡ßá ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶ó‡ßÅ‡¶≤‡ßã‡¶ï‡ßá ‡¶ï‡¶≤‡¶æ‡¶Æ ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã ‡¶π‡¶¨‡ßá */
                flex-direction: column; 
                align-items: stretch;
            }
            .date-range-container {
                flex-grow: unset;
                min-width: unset;
                width: 100%;
            }
            .filter-actions {
                min-width: unset;
                width: 100%;
            }
        }

        @media (max-width: 600px) {
            .dashboard-container {
                flex-direction: column;
            }
            .sidebar {
                width: 100%;
                height: auto;
            }
            .entry-form {
                grid-template-columns: 1fr;
            }
            /* 600px ‡¶è‡¶∞ ‡¶®‡¶ø‡¶ö‡ßá ‡¶°‡ßá‡¶ü ‡¶∞‡ßá‡¶û‡ßç‡¶ú‡¶ì ‡¶ï‡¶≤‡¶æ‡¶Æ ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶¶‡ßá‡¶ñ‡¶æ‡¶¨‡ßá */
            .date-range-container {
                flex-direction: column; 
            }
        }

    </style>
</head>
<body>
    <div class="dashboard-container">
        
        <aside class="sidebar">
            <div class="logo">
                <h2>‡¶¶‡ßã‡¶ï‡¶æ‡¶® ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü</h2>
            </div>
            <nav class="nav-links">
                <ul>
                    <li class="active"><a href="#live-data"><span class="nav-icon"></span> ‡¶≤‡¶æ‡¶á‡¶≠ ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶°‡ßá‡¶ü‡¶æ</a></li>
                    <li><a href="#data-entry"><span class="nav-icon"></span> ‡¶®‡¶§‡ßÅ‡¶® ‡¶è‡¶®‡ßç‡¶ü‡ßç‡¶∞‡¶ø</a></li>
                    <li id="my-posts-link"><a href="#my-posts"><span class="nav-icon"></span> ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶™‡ßã‡¶∏‡ßç‡¶ü</a></li>
                    <li><a href="#data-filter"><span class="nav-icon"></span> ‡¶°‡ßá‡¶ü‡¶æ ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞</a></li>
                    <li class="admin-only" style="display: none;"><a href="#admin-panel"><span class="nav-icon"></span> ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤</a></li>
                    <li><a href="#" id="logout-btn"><span class="nav-icon"></span> ‡¶≤‡¶ó ‡¶Ü‡¶â‡¶ü</a></li>
                </ul>
            </nav>
            <div class="user-info">
                
                <p style="text-align:center;margin-bottom:8px;">
                    <strong>‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ</strong><br>
                    <select id="user-select" aria-label="‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶®" class="user-select-styled"></select>
                </p>
                <p style="display:flex;align-items:center;justify-content:center;gap:6px;flex-wrap:wrap;">
                    <button id="add-user-btn" title="‡¶®‡¶§‡ßÅ‡¶® ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®" class="btn-small btn-primary">‡¶®‡¶§‡ßÅ‡¶®</button>
                </p>
                <div id="user-add-form" style="display:none;margin-top:10px;padding:10px;background:rgba(255,255,255,0.05);border-radius:8px;">
                    <input id="user-add-input" type="text" placeholder="‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®" class="user-add-input" autocomplete="off">
                    <div style="display:flex;gap:8px;margin-top:8px;justify-content:center;">
                        <button id="user-add-save" class="btn-small btn-success">‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£</button>
                        <button id="user-add-cancel" class="btn-small btn-cancel">‡¶¨‡¶æ‡¶§‡¶ø‡¶≤</button>
                    </div>
                </div>
                <p class="status active" id="user-status" style="text-align:center;margin-top:8px;">‚úÖ ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º</p>
                <div class="user-measurement">
                    <div class="measurement-label">‡¶™‡ßã‡¶∏‡ßç‡¶ü</div>
                    <div class="measurement-bar">
                        <div class="measurement-fill" id="user-posts-meter" style="width:0%"></div>
                    </div>
                    <div class="measurement-value"><span id="user-posts-count">0</span>‡¶ü‡¶ø</div>
                </div>
                <input type="file" id="user-avatar-input" accept="image/*" style="display:none;">
            </div>
        </aside>

        <main class="main-content">
            
            <header class="dashboard-header">
                <h1>‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶° - ‡¶≤‡¶æ‡¶á‡¶≠ ‡¶°‡ßá‡¶ü‡¶æ ‡¶ü‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï‡¶ø‡¶Ç</h1>
                <div class="header-right">
                    <span id="current-time">‡¶∏‡¶Æ‡¶Ø‡¶º: 00:00:00</span>
                    <button class="notification-btn" style="background-color: var(--highlight-color-2); color: white; border: none; padding: 8px 12px; border-radius: 5px; cursor: pointer;">üîî</button>
                </div>
            </header>

            <section id="content-area">
                
                <div id="live-data" class="content-section active">
                    <h3>üìä ‡¶∏‡¶ï‡¶≤ ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶™‡ßã‡¶∏‡ßç‡¶ü‡ßá‡¶∞ ‡¶≤‡¶æ‡¶á‡¶≠ ‡¶ü‡ßá‡¶¨‡¶ø‡¶≤</h3>
                    <div id="sidebar-total" class="side-total">
                        <span class="table-header-total-label">üîù ‡¶≤‡¶æ‡¶á‡¶≠ ‡¶Æ‡ßã‡¶ü ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º</span>
                        <span class="table-header-total-amount">0.00 ‡¶ü‡¶æ‡¶ï‡¶æ</span>
                    </div>
                    
                    <div class="table-container">
                        <table id="live-sales-table">
                            <thead>
                                <tr>
                                    <th>‡¶ï‡ßç‡¶∞‡¶Æ‡¶ø‡¶ï ‡¶Ü‡¶á‡¶°‡¶ø</th>
                                    <th>‡¶°‡ßá‡¶ü</th>
                                    <th>‡¶õ‡¶¨‡¶ø</th>
                                    <th>‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü ‡¶®‡¶æ‡¶Æ</th>
                                    <th>‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø</th>
                                    <th>‡¶™‡¶ø‡¶∏</th>
                                    <th>‡¶Æ‡ßã‡¶ü ‡¶ü‡¶æ‡¶ï‡¶æ</th>
                                    <th>‡¶∏‡¶Æ‡¶Ø‡¶º</th>
                                    <th>‡¶™‡ßã‡¶∏‡ßç‡¶ü‡¶ï‡¶æ‡¶∞‡ßÄ</th>
                                </tr>
                            </thead>
                            <tbody>
                                </tbody>
                        </table>
                    </div>
                </div>

                <div id="data-entry" class="content-section" style="display: none;">
                    <h3>üìÑ‚ûï ‡¶®‡¶§‡ßÅ‡¶® ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶è‡¶®‡ßç‡¶ü‡ßç‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®</h3>
                    <form id="sales-entry-form" class="entry-form">
                        <div class="form-group">
                            <label for="product-name">‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü ‡¶®‡¶æ‡¶Æ:</label>
                            <input type="text" id="product-name" required>
                        </div>
                        <div class="form-group">
                            <label for="product-price">‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø:</label>
                            <input type="number" id="product-price" required>
                        </div>
                        <div class="form-group">
                            <label for="product-qty">‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü ‡¶™‡¶ø‡¶∏:</label>
                            <input type="number" id="product-qty" required>
                        </div>
                        <div class="form-group">
                            <label for="product-pic">‡¶™‡¶ø‡¶ï‡¶ö‡¶æ‡¶∞‡ßá‡¶∞ ‡¶õ‡¶¨‡¶ø:</label>
                            <input type="file" id="product-pic" accept="image/*" required>
                        </div>
                        <div class="form-group total-display">
                            <label>‡¶Æ‡ßã‡¶ü ‡¶ü‡¶æ‡¶ï‡¶æ:</label>
                            <span id="total-amount-display">0.00 ‡¶ü‡¶æ‡¶ï‡¶æ</span>
                        </div>
                        <button type="submit" class="submit-btn">‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</button>
                    </form>
                </div>
                
                <div id="my-posts" class="content-section" style="display: none;">
                    <h3>üßë ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶è‡¶®‡ßç‡¶ü‡ßç‡¶∞‡¶ø</h3>
                    <div id="my-table-header-total" class="table-header-total">
                        <span class="table-header-total-label">üîù ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶Æ‡ßã‡¶ü ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º</span>
                        <span class="table-header-total-amount">0.00 ‡¶ü‡¶æ‡¶ï‡¶æ</span>
                    </div>
                    <div class="table-container">
                        <table id="my-sales-table">
                            </table>
                    </div>
                </div>

                <div id="data-filter" class="content-section" style="display: none;">
                    <h3>üîç ‡¶°‡ßá‡¶ü/‡¶®‡¶æ‡¶Æ ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡ßü‡ßÄ ‡¶°‡ßá‡¶ü‡¶æ ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶ì ‡¶Ö‡¶®‡ßÅ‡¶∏‡¶®‡ßç‡¶ß‡¶æ‡¶®</h3>
                    
                    <div id="filter-options" class="filter-options">
                        
                        <div class="date-range-container">
                             <div class="filter-group">
                                <label for="start-date">‡¶∂‡ßÅ‡¶∞‡ßÅ‡¶∞ ‡¶°‡ßá‡¶ü</label>
                                <input type="date" id="start-date">
                            </div>
                            <div class="filter-group">
                                <label for="end-date">‡¶∂‡ßá‡¶∑ ‡¶°‡ßá‡¶ü</label>
                                <input type="date" id="end-date">
                            </div>
                        </div>

                        <div class="filter-group">
                            <label for="filter-poster-name">‡¶™‡ßã‡¶∏‡ßç‡¶ü‡¶ï‡¶æ‡¶∞‡ßÄ</label>
                            <select id="filter-poster-name">
                                <option value="">‡¶∏‡¶ï‡¶≤</option>
                                </select>
                        </div>

                        <div class="filter-actions">
                            <button id="apply-filter-btn" class="btn-small btn-success">‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞</button>
                            <button id="reset-filter-btn" class="btn-small btn-cancel">‡¶∞‡¶ø‡¶∏‡ßá‡¶ü</button>
                        </div>
                    </div>

                    <div id="filter-table-header-total" class="table-header-total" style="display: none;">
                        <span class="table-header-total-label">‡¶´‡¶≤‡¶æ‡¶´‡¶≤‡ßá‡¶∞ ‡¶Æ‡ßã‡¶ü ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º</span>
                        <span class="table-header-total-amount" id="filter-total-amount">0.00 ‡¶ü‡¶æ‡¶ï‡¶æ</span>
                    </div>

                    <div class="table-container">
                        <table id="filter-results-table">
                            <thead>
                                <tr>
                                    <th>‡¶ï‡ßç‡¶∞‡¶Æ‡¶ø‡¶ï ‡¶Ü‡¶á‡¶°‡¶ø</th>
                                    <th>‡¶°‡ßá‡¶ü</th>
                                    <th>‡¶õ‡¶¨‡¶ø</th>
                                    <th>‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü ‡¶®‡¶æ‡¶Æ</th>
                                    <th>‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø</th>
                                    <th>‡¶™‡¶ø‡¶∏</th>
                                    <th>‡¶Æ‡ßã‡¶ü ‡¶ü‡¶æ‡¶ï‡¶æ</th>
                                    <th>‡¶∏‡¶Æ‡¶Ø‡¶º</th>
                                    <th>‡¶™‡ßã‡¶∏‡ßç‡¶ü‡¶ï‡¶æ‡¶∞‡ßÄ</th>
                                </tr>
                            </thead>
                            <tbody id="filter-results-body">
                                <tr><td colspan="9" style="text-align:center;">‡¶â‡¶™‡¶∞‡ßá ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞‡¶ø‡¶Ç ‡¶Ö‡¶™‡¶∂‡¶® ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá ‡¶Ö‡¶®‡ßÅ‡¶∏‡¶®‡ßç‡¶ß‡¶æ‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                </section>
        </main>
    </div>

    <div id="toast-container" aria-live="polite" aria-atomic="true"></div>
    <div id="modal-overlay" role="dialog" aria-modal="true" aria-hidden="true">
        <div class="modal-box" role="document">
            <div class="modal-message" id="modal-message">‡¶Æ‡ßá‡¶∏‡ßá‡¶ú</div>
            <div class="modal-actions">
                <button class="modal-btn ok" id="modal-ok">‡¶†‡¶ø‡¶ï ‡¶Ü‡¶õ‡ßá</button>
                <button class="modal-btn cancel" id="modal-cancel">‡¶¨‡¶æ‡¶§‡¶ø‡¶≤</button>
            </div>
        </div>
    </div>

    <script>
document.addEventListener('DOMContentLoaded', () => {
    // --- Toast helper ---
    function showToast(message, type = 'success', timeout = 3500) {
        const container = document.getElementById('toast-container');
        if (!container) return;
        const toast = document.createElement('div');
        toast.className = `toast toast-${type}`;
        toast.innerHTML = `<span class="toast-message">${message}</span><span class="toast-close">‚úï</span>`;
        container.appendChild(toast);

        const remove = () => {
            toast.style.transition = 'opacity 220ms, transform 220ms';
            toast.style.opacity = '0';
            toast.style.transform = 'translateY(-6px) scale(0.98)';
            setTimeout(() => { try { container.removeChild(toast); } catch (e) {} }, 240);
        };

        toast.querySelector('.toast-close').addEventListener('click', remove);
        if (timeout > 0) setTimeout(remove, timeout);
    }
    
    // --- Centered Confirm / Modal helper ---
    function showConfirm(message, okText = '‡¶†‡¶ø‡¶ï ‡¶Ü‡¶õ‡ßá', cancelText = '‡¶¨‡¶æ‡¶§‡¶ø‡¶≤') {
        return new Promise((resolve) => {
            const overlay = document.getElementById('modal-overlay');
            const msgEl = document.getElementById('modal-message');
            const okBtn = document.getElementById('modal-ok');
            const cancelBtn = document.getElementById('modal-cancel');
            if (!overlay || !msgEl || !okBtn || !cancelBtn) { resolve(false); return; }

            msgEl.textContent = message;
            okBtn.textContent = okText;
            cancelBtn.textContent = cancelText;

            overlay.classList.add('active');
            overlay.setAttribute('aria-hidden', 'false');

            const previousFocus = document.activeElement;
            okBtn.focus();

            function cleanup() {
                overlay.classList.remove('active');
                overlay.setAttribute('aria-hidden', 'true');
                okBtn.removeEventListener('click', onOk);
                cancelBtn.removeEventListener('click', onCancel);
                document.removeEventListener('keydown', onKeydown);
                if (previousFocus && previousFocus.focus) previousFocus.focus();
            }

            function onOk() { cleanup(); resolve(true); }
            function onCancel() { cleanup(); resolve(false); }

            function onKeydown(e) {
                if (e.key === 'Escape') { e.preventDefault(); onCancel(); }
                if (e.key === 'Enter') { e.preventDefault(); onOk(); }
            }

            okBtn.addEventListener('click', onOk);
            cancelBtn.addEventListener('click', onCancel);
            document.addEventListener('keydown', onKeydown);
        });
    }

    // --- Helper for Date Conversion (dd/mm/yyyy to yyyy-mm-dd for comparison) ---
    function dateToComparable(dateStr) {
        if (!dateStr) return null;
        const parts = dateStr.split('/');
        if (parts.length === 3) {
            // Assumes dd/mm/yyyy format based on toLocaleDateString('bn-BD')
            const day = parts[0].padStart(2, '0');
            const month = parts[1].padStart(2, '0');
            const year = parts[2];
            return year + month + day;
        }
        return null;
    }

    // ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®‡ßÄ‡¶Ø‡¶º HTML ‡¶è‡¶≤‡¶ø‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡¶ó‡ßÅ‡¶≤‡ßã ‡¶ß‡¶∞‡ßá ‡¶®‡ßá‡¶ì‡¶Ø‡¶º‡¶æ
    const currentTimeSpan = document.getElementById('current-time');
    const navLinks = document.querySelectorAll('.nav-links a');
    const contentSections = document.querySelectorAll('.content-section');
    const priceInput = document.getElementById('product-price');
    const qtyInput = document.getElementById('product-qty');
    const totalDisplay = document.getElementById('total-amount-display');
    const entryForm = document.getElementById('sales-entry-form');

    const userSelect = document.getElementById('user-select');
    const addUserBtn = document.getElementById('add-user-btn');
    const userAddForm = document.getElementById('user-add-form');
    const userAddInput = document.getElementById('user-add-input');
    const userAddSaveBtn = document.getElementById('user-add-save');
    const userAddCancelBtn = document.getElementById('user-add-cancel');
    const userStatusEl = document.getElementById('user-status');
    const userPostsMeter = document.getElementById('user-posts-meter');
    const userPostsCountEl = document.getElementById('user-posts-count');
    const logoutBtn = document.getElementById('logout-btn');

    // ‡¶ü‡ßá‡¶¨‡¶ø‡¶≤ ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶®‡ßç‡¶∏
    const liveSalesTable = document.getElementById('live-sales-table');
    const mySalesTable = document.getElementById('my-sales-table'); 
    const filterResultsBody = document.getElementById('filter-results-body');
    
    // ‡¶ü‡ßã‡¶ü‡¶æ‡¶≤ ‡¶°‡¶ø‡¶∏‡¶™‡ßç‡¶≤‡ßá ‡¶è‡¶≤‡¶ø‡¶Æ‡ßá‡¶®‡ßç‡¶ü
    const myTableHeaderTotal = document.getElementById('my-table-header-total');
    const myTableHeaderTotalAmount = myTableHeaderTotal.querySelector('.table-header-total-amount');
    
    const liveSalesTotalEl = document.getElementById('sidebar-total');
    const liveSalesTotalAmountEl = document.querySelector('#sidebar-total .table-header-total-amount'); 

    // ‡¶®‡¶§‡ßÅ‡¶® ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶è‡¶≤‡¶ø‡¶Æ‡ßá‡¶®‡ßç‡¶ü
    const startDateInput = document.getElementById('start-date');
    const endDateInput = document.getElementById('end-date');
    const filterPosterNameSelect = document.getElementById('filter-poster-name');
    const applyFilterBtn = document.getElementById('apply-filter-btn');
    const resetFilterBtn = document.getElementById('reset-filter-btn');
    const filterTableHeaderTotal = document.getElementById('filter-table-header-total');
    const filterTotalAmountEl = document.getElementById('filter-total-amount');
    
    // LocalStorage keys
    const STORAGE_USERS_KEY = 'sales_users';
    const STORAGE_POSTS_KEY = 'sales_posts';
    const STORAGE_CURRENT_USER_KEY = 'sales_current_user_id';

    // ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶ì ‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶°‡ßá‡¶ü‡¶æ (‡¶á‡¶®-‡¶Æ‡ßá‡¶Æ‡¶∞‡¶ø, persisted to localStorage)
    let users = [];
    let userCounter = 1; 
    let currentUser = null;

    let posts = [];
    let entryCounter = 1; 

    // --- Persistence helpers ---
    function loadUsers() {
        try {
            const raw = localStorage.getItem(STORAGE_USERS_KEY);
            if (!raw) return []; 
            return JSON.parse(raw);
        } catch (e) { return []; }
    }

    function saveUsers() {
        localStorage.setItem(STORAGE_USERS_KEY, JSON.stringify(users));
    }

    function loadPosts() {
        try {
            const raw = localStorage.getItem(STORAGE_POSTS_KEY);
            if (!raw) return [];
            return JSON.parse(raw);
        } catch (e) { return []; }
    }

    function savePosts() {
        localStorage.setItem(STORAGE_POSTS_KEY, JSON.stringify(posts));
    }

    function loadCurrentUserId() {
        try { 
            const id = localStorage.getItem(STORAGE_CURRENT_USER_KEY);
            return id ? parseInt(id) : null;
        } catch (e) { return null; }
    }

    function saveCurrentUserId(id) {
        localStorage.setItem(STORAGE_CURRENT_USER_KEY, id);
    }
    
    // --- Data Initialization ---
    function initializeData() {
        users = loadUsers();
        posts = loadPosts();

        // ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡¶æ‡¶∞ ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ
        if (users.length > 0) {
            userCounter = Math.max(...users.map(u => u.id)) + 1;
        } else {
            // ‡¶Ø‡¶¶‡¶ø ‡¶ï‡ßã‡¶®‡ßã ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶®‡¶æ ‡¶•‡¶æ‡¶ï‡ßá, ‡¶è‡¶ï‡¶ü‡¶ø ‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®
            const defaultUser = { id: userCounter++, name: '‡¶è‡¶°‡¶Æ‡¶ø‡¶®', status: '‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º', postsCount: 0, isAdmin: true };
            users.push(defaultUser);
            saveUsers();
        }

        // ‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡¶æ‡¶∞ ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ
        if (posts.length > 0) {
            entryCounter = Math.max(...posts.map(p => p.id)) + 1;
        }

        // ‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ
        const currentUserId = loadCurrentUserId();
        currentUser = users.find(u => u.id === currentUserId) || users[0];
        if (currentUser) {
            saveCurrentUserId(currentUser.id);
        }
    }

    // --- UI Update & Rendering ---

    // ‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶∏‡¶Æ‡¶Ø‡¶º ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ
    function updateCurrentTime() {
        const now = new Date();
        const timeString = now.toLocaleTimeString('bn-BD', { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: true });
        currentTimeSpan.textContent = `‡¶∏‡¶Æ‡¶Ø‡¶º: ${timeString}`;
    }
    setInterval(updateCurrentTime, 1000);
    updateCurrentTime();

    // ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶°‡ßç‡¶∞‡¶™‡¶°‡¶æ‡¶â‡¶® ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ
    function renderUserSelect() {
        userSelect.innerHTML = '';
        users.forEach(user => {
            const option = document.createElement('option');
            option.value = user.id;
            option.textContent = user.name + (user.isAdmin ? ' (‡¶è‡¶°‡¶Æ‡¶ø‡¶®)' : '');
            userSelect.appendChild(option);
        });

        if (currentUser) {
            userSelect.value = currentUser.id;
            updateUserInfo(currentUser);
        }
        
        const adminLink = document.querySelector('.admin-only');
        if (adminLink) {
            adminLink.style.display = currentUser && currentUser.isAdmin ? 'list-item' : 'none';
        }

        // ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶™‡ßã‡¶∏‡ßç‡¶ü‡¶æ‡¶∞ ‡¶®‡ßá‡¶Æ ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ
        renderFilterUserSelect();
    }
    
    // ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶°‡ßç‡¶∞‡¶™‡¶°‡¶æ‡¶â‡¶® ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ
    function renderFilterUserSelect() {
        filterPosterNameSelect.innerHTML = '<option value="">‡¶∏‡¶ï‡¶≤</option>'; // ‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü ‡¶Ö‡¶™‡¶∂‡¶®
        users.forEach(user => {
            const option = document.createElement('option');
            option.value = user.id;
            option.textContent = user.name;
            filterPosterNameSelect.appendChild(option);
        });
    }
    
    // ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶á‡¶®‡¶´‡ßã ‡¶ì ‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ
    function updateUserInfo(user) {
        userStatusEl.textContent = user.status === '‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º' ? '‚úÖ ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º' : '‚ùå ‡¶®‡¶ø‡¶∑‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º';
        userStatusEl.classList.toggle('active', user.status === '‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º');
        
        const myPosts = posts.filter(p => p.posterId === user.id);
        const postsCount = myPosts.length;
        
        userPostsCountEl.textContent = postsCount;
        
        const maxPosts = 50; 
        const meterPercentage = Math.min(100, (postsCount / maxPosts) * 100);
        userPostsMeter.style.width = `${meterPercentage}%`;
    }

    // ‡¶≤‡¶æ‡¶á‡¶≠ ‡¶∏‡ßá‡¶≤‡¶∏ ‡¶ü‡ßá‡¶¨‡¶ø‡¶≤ ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ
    function renderLiveSalesTable() {
        const currentBody = liveSalesTable.querySelector('tbody');
        if (currentBody) currentBody.remove();
        
        const newBody = liveSalesTable.createTBody();
        let totalSales = 0;

        posts.sort((a, b) => b.id - a.id); 

        posts.forEach((post) => {
            const row = newBody.insertRow();
            const poster = users.find(u => u.id === post.posterId) || { name: '‡¶Ö‡¶ú‡¶æ‡¶®‡¶æ' };
            totalSales += post.totalAmount;

            row.innerHTML = `
                <td>${post.id}</td>
                <td>${post.date}</td>
                <td><img src="${post.pictureData}" alt="Product" class="product-img"></td>
                <td>${post.productName}</td>
                <td style="text-align:right;">${post.price.toFixed(2)} ‡¶ü‡¶æ‡¶ï‡¶æ</td>
                <td style="text-align:center;">${post.qty}</td>
                <td style="text-align:right;">${post.totalAmount.toFixed(2)} ‡¶ü‡¶æ‡¶ï‡¶æ</td>
                <td>${post.time}</td>
                <td>${poster.name}</td>
            `;
        });
        
        if(liveSalesTotalAmountEl) {
            liveSalesTotalAmountEl.textContent = `${totalSales.toFixed(2)} ‡¶ü‡¶æ‡¶ï‡¶æ`;
        }
    }
    
    // ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶ü‡ßá‡¶¨‡¶ø‡¶≤ ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ
    function renderMySalesTable() {
        if (!currentUser) { 
            const myTableBody = mySalesTable.querySelector('tbody');
            if (myTableBody) myTableBody.remove();
            myTableHeaderTotal.style.display = 'none';
            return; 
        }
        
        const myPosts = posts.filter(p => p.posterId === currentUser.id);
        
        const myTableBody = mySalesTable.querySelector('tbody');
        if (myTableBody) myTableBody.remove();

        if (mySalesTable.querySelectorAll('thead').length === 0) {
            mySalesTable.innerHTML = `
                <thead>
                    <tr>
                        <th>‡¶Ü‡¶á‡¶°‡¶ø</th>
                        <th>‡¶°‡ßá‡¶ü</th>
                        <th>‡¶õ‡¶¨‡¶ø</th>
                        <th>‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü ‡¶®‡¶æ‡¶Æ</th>
                        <th>‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø</th>
                        <th>‡¶™‡¶ø‡¶∏</th>
                        <th>‡¶Æ‡ßã‡¶ü ‡¶ü‡¶æ‡¶ï‡¶æ</th>
                        <th>‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶∂‡¶®</th>
                    </tr>
                </thead>
            `;
        }

        const newBody = mySalesTable.createTBody();
        let myTotalSales = 0;
        
        myPosts.sort((a, b) => b.id - a.id); 

        myPosts.forEach((post) => {
            const row = newBody.insertRow();
            myTotalSales += post.totalAmount;

            row.innerHTML = `
                <td>${post.id}</td>
                <td>${post.date}</td>
                <td><img src="${post.pictureData}" alt="Product" class="product-img round"></td>
                <td>${post.productName}</td>
                <td style="text-align:right;">${post.price.toFixed(2)} ‡¶ü‡¶æ‡¶ï‡¶æ</td>
                <td style="text-align:center;">${post.qty}</td>
                <td style="text-align:right;">${post.totalAmount.toFixed(2)} ‡¶ü‡¶æ‡¶ï‡¶æ</td>
                <td><button class="btn-small btn-cancel delete-btn" data-post-id="${post.id}" title="‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®">üóëÔ∏è</button></td>
            `;
        });
        
        if (myPosts.length > 0) {
            myTableHeaderTotal.style.display = 'flex';
            myTableHeaderTotalAmount.textContent = `${myTotalSales.toFixed(2)} ‡¶ü‡¶æ‡¶ï‡¶æ`;
        } else {
            myTableHeaderTotal.style.display = 'none';
        }

        newBody.querySelectorAll('.delete-btn').forEach(button => {
            button.addEventListener('click', (e) => {
                const postId = parseInt(e.target.dataset.postId);
                deletePost(postId);
            });
        });
        
        updateUserInfo(currentUser);
    }
    
    // ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
    async function deletePost(postId) {
        const confirmed = await showConfirm(`‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶∏‡¶§‡ßç‡¶Ø‡¶ø‡¶á ‡¶Ü‡¶á‡¶°‡¶ø ${postId}-‡¶è‡¶∞ ‡¶è‡¶á ‡¶™‡ßã‡¶∏‡ßç‡¶ü‡¶ü‡¶ø ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®?`);
        
        if (confirmed) {
            const initialLength = posts.length;
            posts = posts.filter(p => p.id !== postId);
            
            if (posts.length < initialLength) {
                savePosts();
                renderLiveSalesTable();
                renderMySalesTable();
                showToast(`‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶Ü‡¶á‡¶°‡¶ø ${postId} ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§`, 'error');
            }
        }
    }

    // --- ‡¶®‡¶§‡ßÅ‡¶® ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶è‡¶¨‡¶Ç ‡¶Ö‡¶®‡ßÅ‡¶∏‡¶®‡ßç‡¶ß‡¶æ‡¶® ‡¶≤‡¶ú‡¶ø‡¶ï ---
    
    function applyFilter() {
        const startDateValue = startDateInput.value;
        const endDateValue = endDateInput.value;
        const posterId = filterPosterNameSelect.value ? parseInt(filterPosterNameSelect.value) : null;
        
        // ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶•‡ßá‡¶ï‡ßá ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶°‡ßá‡¶ü‡¶ó‡ßÅ‡¶≤‡ßã ‡¶§‡ßÅ‡¶≤‡¶®‡¶Ø‡ßã‡¶ó‡ßç‡¶Ø ‡¶´‡¶∞‡¶Æ‡ßá‡¶ü‡ßá ‡¶∞‡ßÇ‡¶™‡¶æ‡¶®‡ßç‡¶§‡¶∞ ‡¶ï‡¶∞‡¶æ
        const startComparable = startDateValue ? dateToComparable(new Date(startDateValue).toLocaleDateString('bn-BD')) : null;
        const endComparable = endDateValue ? dateToComparable(new Date(endDateValue).toLocaleDateString('bn-BD')) : null;
        
        let filteredPosts = posts.filter(post => {
            let matches = true;
            const postDateComparable = dateToComparable(post.date);

            // 1. ‡¶°‡ßá‡¶ü ‡¶∞‡ßá‡¶û‡ßç‡¶ú ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞
            if (startComparable && postDateComparable < startComparable) {
                matches = false;
            }
            if (endComparable && postDateComparable > endComparable) {
                matches = false;
            }

            // 2. ‡¶™‡ßã‡¶∏‡ßç‡¶ü‡¶æ‡¶∞ ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞
            if (posterId !== null && matches) {
                if (post.posterId !== posterId) {
                    matches = false;
                }
            }

            return matches;
        });

        // ‡¶Ø‡¶¶‡¶ø ‡¶°‡ßá‡¶ü ‡¶∞‡ßá‡¶û‡ßç‡¶ú ‡¶á‡¶®‡¶≠‡¶æ‡¶∞‡ßç‡¶ü‡ßá‡¶° ‡¶π‡¶Ø‡¶º
        if (startComparable && endComparable && startComparable > endComparable) {
             showToast('‡¶∂‡ßÅ‡¶∞‡ßÅ‡¶∞ ‡¶°‡ßá‡¶ü ‡¶∂‡ßá‡¶∑‡ßá‡¶∞ ‡¶°‡ßá‡¶ü‡ßá‡¶∞ ‡¶•‡ßá‡¶ï‡ßá ‡¶™‡¶∞‡ßá ‡¶π‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá ‡¶®‡¶æ‡•§', 'error');
             filteredPosts = []; 
        }

        renderFilterResults(filteredPosts);
    }

    function renderFilterResults(results) {
        filterResultsBody.innerHTML = '';
        let totalSales = 0;
        
        results.sort((a, b) => b.id - a.id); 

        if (results.length === 0) {
            filterTableHeaderTotal.style.display = 'none';
            filterResultsBody.innerHTML = `
                <tr><td colspan="9" style="text-align:center; color: ${results.length === 0 && (startDateInput.value || endDateInput.value || filterPosterNameSelect.value) ? 'red' : '#333333'};">
                ${results.length === 0 && (startDateInput.value || endDateInput.value || filterPosterNameSelect.value) ? '‡¶Ö‡¶®‡ßÅ‡¶∏‡¶®‡ßç‡¶ß‡¶æ‡¶®‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶ï‡ßã‡¶®‡ßã ‡¶°‡ßá‡¶ü‡¶æ ‡¶Æ‡ßá‡¶≤‡ßá‡¶®‡¶ø‡•§' : '‡¶â‡¶™‡¶∞‡ßá ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞‡¶ø‡¶Ç ‡¶Ö‡¶™‡¶∂‡¶® ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá ‡¶Ö‡¶®‡ßÅ‡¶∏‡¶®‡ßç‡¶ß‡¶æ‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§'}
                </td></tr>`;
            
        } else {
            results.forEach((post) => {
                const row = filterResultsBody.insertRow();
                const poster = users.find(u => u.id === post.posterId) || { name: '‡¶Ö‡¶ú‡¶æ‡¶®‡¶æ' };
                totalSales += post.totalAmount;

                row.innerHTML = `
                    <td>${post.id}</td>
                    <td>${post.date}</td>
                    <td><img src="${post.pictureData}" alt="Product" class="product-img"></td>
                    <td>${post.productName}</td>
                    <td style="text-align:right;">${post.price.toFixed(2)} ‡¶ü‡¶æ‡¶ï‡¶æ</td>
                    <td style="text-align:center;">${post.qty}</td>
                    <td style="text-align:right;">${post.totalAmount.toFixed(2)} ‡¶ü‡¶æ‡¶ï‡¶æ</td>
                    <td>${post.time}</td>
                    <td>${poster.name}</td>
                `;
            });

            filterTableHeaderTotal.style.display = 'flex';
            filterTotalAmountEl.textContent = `${totalSales.toFixed(2)} ‡¶ü‡¶æ‡¶ï‡¶æ`;
        }
    }
    
    function resetFilter() {
        startDateInput.value = '';
        endDateInput.value = '';
        filterPosterNameSelect.value = '';
        renderFilterResults([]);
        showToast('‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶Ö‡¶™‡¶∂‡¶® ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡¶≤‡ßã‡•§', 'info', 2000);
    }

    // ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶¨‡¶æ‡¶ü‡¶® ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶≤‡¶ø‡¶∏‡ßá‡¶®‡¶æ‡¶∞
    applyFilterBtn.addEventListener('click', applyFilter);
    resetFilterBtn.addEventListener('click', resetFilter);

    // --- Event Listeners & Logic ---
    
    // ‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶® ‡¶≤‡¶ú‡¶ø‡¶ï
    navLinks.forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault();
            const targetId = e.currentTarget.getAttribute('href').substring(1); 
            
            // ‡¶∏‡¶æ‡¶á‡¶°‡¶¨‡¶æ‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶ü‡¶ø‡¶≠ ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏
            document.querySelectorAll('.nav-links li').forEach(l => l.classList.remove('active'));
            e.currentTarget.parentElement.classList.add('active');

            // ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡ßá‡¶ï‡¶∂‡¶® ‡¶ü‡¶ó‡¶≤
            contentSections.forEach(section => {
                section.style.display = 'none';
                if (section.id === targetId) {
                    section.style.display = 'block';
                    if (targetId === 'live-data') {
                        renderLiveSalesTable();
                    } else if (targetId === 'my-posts') {
                        renderMySalesTable();
                    } else if (targetId === 'data-filter') {
                        // ‡¶°‡ßá‡¶ü‡¶æ ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶™‡ßá‡¶ú‡ßá ‡¶ó‡ßá‡¶≤‡ßá ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶≤‡¶ø‡¶∏‡ßç‡¶ü ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ
                        renderFilterUserSelect(); 
                        // ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶°‡ßá‡¶ü ‡¶´‡¶ø‡¶≤‡ßç‡¶° ‡¶ï‡ßç‡¶≤‡¶ø‡ßü‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá, ‡¶´‡¶≤‡¶æ‡¶´‡¶≤ ‡¶°‡¶ø‡¶∏‡¶™‡ßç‡¶≤‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡ßü‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶¨‡ßá, ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶Ö‡¶™‡¶∂‡¶® ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶•‡¶æ‡¶ï‡¶¨‡ßá 
                        startDateInput.value = '';
                        endDateInput.value = '';
                        filterPosterNameSelect.value = '';
                        renderFilterResults([]); 
                    }
                }
            });
            window.scrollTo(0, 0);
        });
    });

    // ‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø/‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£ ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶Æ‡ßã‡¶ü ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶π‡¶ø‡¶∏‡¶æ‡¶¨ ‡¶ï‡¶∞‡¶æ
    function updateTotalPrice() {
        const price = parseFloat(priceInput.value) || 0;
        const qty = parseInt(qtyInput.value) || 0;
        const total = price * qty;
        totalDisplay.textContent = `${total.toFixed(2)} ‡¶ü‡¶æ‡¶ï‡¶æ`;
    }

    priceInput.addEventListener('input', updateTotalPrice);
    qtyInput.addEventListener('input', updateTotalPrice);


    // ‡¶´‡¶∞‡ßç‡¶Æ ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶æ‡¶∞
    entryForm.addEventListener('submit', (e) => {
        e.preventDefault();
        
        const productName = document.getElementById('product-name').value.trim();
        const price = parseFloat(priceInput.value);
        const qty = parseInt(qtyInput.value);
        const picInput = document.getElementById('product-pic');
        const file = picInput.files[0];

        if (!currentUser) {
            showToast('‡¶¶‡ßü‡¶æ ‡¶ï‡¶∞‡ßá ‡¶è‡¶ï‡¶ú‡¶® ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§', 'error');
            return;
        }

        if (!productName || price <= 0 || qty <= 0 || !file) {
            showToast('‡¶∏‡¶¨ ‡¶´‡¶ø‡¶≤‡ßç‡¶° ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶∏‡¶†‡¶ø‡¶ï ‡¶§‡¶•‡ßç‡¶Ø ‡¶¶‡¶ø‡¶®‡•§', 'error');
            return;
        }

        const reader = new FileReader();
        reader.onload = function(event) {
            const now = new Date();
            const newPost = {
                id: entryCounter++,
                // ‡¶°‡ßá‡¶ü ‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ü dd/mm/yyyy
                date: now.toLocaleDateString('bn-BD'), 
                time: now.toLocaleTimeString('bn-BD', { hour: '2-digit', minute: '2-digit' }),
                productName: productName,
                price: price,
                qty: qty,
                totalAmount: price * qty,
                pictureData: event.target.result, // Base64 image data
                posterId: currentUser.id,
            };

            posts.push(newPost);
            savePosts();
            showToast('‡¶®‡¶§‡ßÅ‡¶® ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶è‡¶®‡ßç‡¶ü‡ßç‡¶∞‡¶ø ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!', 'success');
            
            // UI ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ì ‡¶´‡¶∞‡ßç‡¶Æ ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü
            entryForm.reset();
            totalDisplay.textContent = '0.00 ‡¶ü‡¶æ‡¶ï‡¶æ';
            
            const liveDataLink = document.querySelector('a[href="#live-data"]');
            if (liveDataLink) {
                liveDataLink.click();
            } else {
                renderLiveSalesTable();
            }

            updateUserInfo(currentUser); 
        };
        reader.readAsDataURL(file);
    });

    // ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶π‡¶≤‡ßá
    userSelect.addEventListener('change', (e) => {
        const selectedId = parseInt(e.target.value);
        currentUser = users.find(u => u.id === selectedId);
        if (currentUser) {
            saveCurrentUserId(currentUser.id);
            updateUserInfo(currentUser);
            showToast(`‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡ßá: ${currentUser.name}`, 'info', 2000);
            
            const activeSection = document.querySelector('.content-section[style*="block"]');
            if (activeSection) {
                if (activeSection.id === 'live-data') {
                    renderLiveSalesTable();
                } else if (activeSection.id === 'my-posts') {
                    renderMySalesTable();
                } else if (activeSection.id === 'data-filter') {
                    renderFilterUserSelect(); 
                    // ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶Ö‡¶™‡¶∂‡¶®‡¶ó‡ßÅ‡¶≤‡ßã ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ
                    startDateInput.value = '';
                    endDateInput.value = '';
                    filterPosterNameSelect.value = '';
                    renderFilterResults([]); 
                }
            }
        }
    });

    // ‡¶®‡¶§‡ßÅ‡¶® ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ (‡¶´‡¶∞‡ßç‡¶Æ ‡¶ü‡¶ó‡¶≤)
    addUserBtn.addEventListener('click', () => {
        userAddForm.style.display = 'block';
        addUserBtn.style.display = 'none';
        userAddInput.focus();
    });

    userAddCancelBtn.addEventListener('click', () => {
        userAddForm.style.display = 'none';
        addUserBtn.style.display = 'block';
        userAddInput.value = '';
    });

    // ‡¶®‡¶§‡ßÅ‡¶® ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡¶æ
    userAddSaveBtn.addEventListener('click', () => {
        const newUserName = userAddInput.value.trim();
        if (newUserName && newUserName.length > 1) {
            const newUser = { 
                id: userCounter++, 
                name: newUserName, 
                status: '‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º', 
                postsCount: 0,
                isAdmin: false 
            };
            
            users.push(newUser);
            saveUsers(); 
            
            currentUser = newUser;
            saveCurrentUserId(currentUser.id); 

            renderUserSelect();
            userAddCancelBtn.click(); 
            showToast(`‡¶®‡¶§‡ßÅ‡¶® ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ '${newUserName}' ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§`, 'success');

        } else {
            showToast('‡¶®‡¶æ‡¶Æ‡¶ü‡¶ø ‡¶Ö‡¶®‡ßç‡¶§‡¶§ 2 ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞‡ßá‡¶∞ ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§', 'error');
        }
    });

    // ‡¶≤‡¶ó ‡¶Ü‡¶â‡¶ü ‡¶∏‡¶ø‡¶Æ‡ßÅ‡¶≤‡ßá‡¶∂‡¶®
    logoutBtn.addEventListener('click', async (e) => {
        e.preventDefault();
        const confirmed = await showConfirm('‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶≤‡¶ó ‡¶Ü‡¶â‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®?');
        if (confirmed) {
            localStorage.removeItem(STORAGE_CURRENT_USER_KEY);
            window.location.reload(); 
        }
    });
    
    // --- Initial Load ---
    initializeData();
    renderUserSelect();
    
    // ‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü‡¶≠‡¶æ‡¶¨‡ßá ‡¶≤‡¶æ‡¶á‡¶≠ ‡¶°‡ßá‡¶ü‡¶æ ‡¶∏‡ßá‡¶ï‡¶∂‡¶® ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã
    const defaultLink = document.querySelector('a[href="#live-data"]');
    if (defaultLink) {
        defaultLink.click();
    } else {
         renderLiveSalesTable();
    }
});
    </script>
</body>
</html>